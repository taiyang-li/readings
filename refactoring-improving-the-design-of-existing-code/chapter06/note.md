## 重新组织函数

### extract method
将一段代码抽取出来，并形成一个新函数
- 无局部变量：直接提取代码段
- 有局部变量且只读：将局部变量作为参数创给新函数
- 有局部变量且被赋值：
    * 局部变量只在被抽取的代码中使用：直接搬运到新函数中
    * 局部变量在被抽取代码外被用到：新函数返回局部变量

### inline method
在函数调用点插入函数本体，然后移除该函数

### inline temp 
如果有一个临时变量，只被一个简单表达式赋值一次。

可将所有对该变量的引用动作，替换成对它赋值的那个表达式自身

### replace temp with query
如果程序以临时变量保存表达式的运算结果, 将这个表达式提取到独立函数中，将这个临时变量的所有引用点替换成新函数的调用。

### introduce explaining variable
将表达式的结果放到一个临时变量，并以变量名称来解释表达式的用途, 也可用extract method替代

### split temporary variable
针对每次复制，创造一个独立的，对应的临时变量

### remove assignments to parameters
避免对入参(值传递)进行复制

### replace method with method object
在大型函数中，局部变量的使用无法采用extract method. 
可以将函数和关联的局部变量放到一个单独对象中，如此一来局部变量就成了对象内的字段

### substitute algorithm 
如果想将某个算法替换为另一个更清晰的算法，可将函数本体替换成另一个算法

### move method
如果你的程序中，有个函数与其本类之外的另一个类进行更多交流，调用后者，或者为后者调用。应当在该函数最长引用的类中建立一个有着类似行为的新函数，将旧函数变成一个单纯的委托函数，或将旧函数完全移除

### move field
如果你的程序中，某个字段被本类之外的另一个类更多用到，则可将该字段移动到后者中 

### extract class
某个类做了两个类做的事情，建立一个新类，将相关字段和函数从旧类搬移到新类

### inline class 
某个类没有做太多的事情，将这个类的所有特性搬移到另一个类中，然后移除原类

### hide delegate
客户通过一个委托类来调用另一个对象，在服务类上建立客户所需的所有函数，用来隐藏委托关系

### remove middle man
某个类做了过多的简单委托动作，让客户直接调用受托类

### introduce foreign method
在你需要为提供服务的类增加一个函数，但是你无法修改这个类
在客户类中建立一个函数，以第一参数的形式传入一个服务类实例

### introduct local extension
你需要为服务类提供一些额外函数，但是你无法修改这个类
建立一个新类，使它包含这些额外函数，让这个扩展品成为源类的子类或包装类

